# {{ username }}'s .bashrc
# Generated: {{ generated_date }}

# If not running interactively, don't do anything
case $- in
    *i*) ;;
      *) return;;
esac

# History settings
HISTCONTROL=ignoreboth
HISTSIZE={{ hist_size }}
HISTFILESIZE={{ hist_file_size }}
shopt -s histappend

# Check window size after each command
shopt -s checkwinsize

# Enable color support
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
    alias ls='ls --color=auto'
    alias grep='grep --color=auto'
fi

# Custom prompt
{% if custom_prompt %}
PS1='{{ prompt_format }}'
{% else %}
PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
{% endif %}

# Aliases
{% for alias in aliases %}
alias {{ alias.name }}='{{ alias.command }}'
{% endfor %}

# Environment variables
export EDITOR="{{ editor }}"
export VISUAL="{{ visual }}"
export PAGER="{{ pager }}"
{% for env_var in env_vars %}
export {{ env_var.name }}="{{ env_var.value }}"
{% endfor %}

# Custom PATH
{% for path in custom_paths %}
export PATH="{{ path }}:$PATH"
{% endfor %}

# Functions
{% for func in functions %}
{{ func.name }}() {
    {{ func.body }}
}
{% endfor %}

# Load bash completion
if [ -f /etc/bash_completion ]; then
    . /etc/bash_completion
fi

# {{ project_name }} specific settings
{% if project_settings %}
{% for setting in project_settings %}
# {{ setting.comment }}
{{ setting.command }}
{% endfor %}
{% endif %}
